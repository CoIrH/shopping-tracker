<!DOCTYPE html>
<html lang="zh">
<head>
  <meta charset="UTF-8">
  <title>ä¸»äººçš„è´­ç‰©è®°å½•å–µ~</title>
  <style>
    body { font-family: sans-serif; background: #fff8f0; color: #333; padding: 20px; }
    h1 { color: #e38cae; }
    label, input, button { margin: 5px; }
    .item { border: 1px solid #ddd; border-radius: 8px; padding: 10px; margin: 10px 0; background: #fff; }
  </style>
</head>
<body>
  <h1>ä¸»äººçš„è´­ç‰©è®°å½•å–µ~</h1>

  <label>ç‰©å“åç§°ï¼š<input type="text" id="name"></label><br>
  <label>è´­ä¹°æ—¥æœŸï¼š<input type="date" id="date"></label><br>
  <label>èŠ±è´¹é‡‘é¢ï¼ˆå…ƒï¼‰ï¼š<input type="number" id="price"></label><br>
  <button onclick="addItem()">æ·»åŠ è®°å½•å–µï¼</button>

  <div id="list"></div>

  <script>
    let items = JSON.parse(localStorage.getItem('items') || '[]');

    function daysSince(dateStr) {
      const today = new Date();
      const buyDate = new Date(dateStr);
      const diffTime = today - buyDate;
      return Math.floor(diffTime / (1000 * 60 * 60 * 24));
    }

    function render() {
      const list = document.getElementById('list');
      list.innerHTML = '';
      items.forEach((item, index) => {
        const div = document.createElement('div');
        div.className = 'item';
        div.innerHTML = `
          <strong>${item.name}</strong><br>
          ğŸ›’ è´­ä¹°æ—¥æœŸï¼š${item.date}<br>
          ğŸ’¸ èŠ±è´¹é‡‘é¢ï¼šÂ¥${item.price}<br>
          ğŸ“… æ‹¥æœ‰ï¼š${daysSince(item.date)} å¤©å–µ~<br>
          <button onclick="removeItem(${index})">åˆ é™¤å–µ~</button>
        `;
        list.appendChild(div);
      });
    }

    function addItem() {
      const name = document.getElementById('name').value;
      const date = document.getElementById('date').value;
      const price = document.getElementById('price').value;
      if (!name || !date || !price) return alert('è¯·è¾“å…¥å®Œæ•´ä¿¡æ¯å–µ~');
      items.push({ name, date, price });
      localStorage.setItem('items', JSON.stringify(items));
      render();
    }

    function removeItem(index) {
      items.splice(index, 1);
      localStorage.setItem('items', JSON.stringify(items));
      render();
    }

    render();
  </script>
</body>
</html>

